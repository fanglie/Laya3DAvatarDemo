{
  "code": "import GameConfig from \"./GameConfig\";\r\nclass Main {\r\n    constructor() {\r\n        if (window[\"Laya3D\"])\r\n            Laya3D.init(GameConfig.width, GameConfig.height);\r\n        else\r\n            Laya.init(GameConfig.width, GameConfig.height, Laya[\"WebGL\"]);\r\n        Laya[\"Physics\"] && Laya[\"Physics\"].enable();\r\n        Laya[\"DebugPanel\"] && Laya[\"DebugPanel\"].enable();\r\n        Laya.stage.scaleMode = GameConfig.scaleMode;\r\n        Laya.stage.screenMode = GameConfig.screenMode;\r\n        Laya.stage.alignV = GameConfig.alignV;\r\n        Laya.stage.alignH = GameConfig.alignH;\r\n        Laya.URL.exportSceneToJson = GameConfig.exportSceneToJson;\r\n        if (GameConfig.debug || Laya.Utils.getQueryString(\"debug\") == \"true\")\r\n            Laya.enableDebugPanel();\r\n        if (GameConfig.physicsDebug && Laya[\"PhysicsDebugDraw\"])\r\n            Laya[\"PhysicsDebugDraw\"].enable();\r\n        if (GameConfig.stat)\r\n            Laya.Stat.show();\r\n        Laya.alertGlobalError = true;\r\n        Laya.ResourceVersion.enable(\"version.json\", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);\r\n        console.log(\"加载3D\");\r\n        this.loadRes();\r\n    }\r\n    loadRes() {\r\n        var scene = Laya.stage.addChild(new Laya.Scene3D());\r\n        var camera = (scene.addChild(new Laya.Camera(0, 0.1, 100)));\r\n        camera.transform.translate(new Laya.Vector3(0, 3, 3));\r\n        camera.transform.rotate(new Laya.Vector3(-30, 0, 0), true, false);\r\n        var directionLight = scene.addChild(new Laya.DirectionLight());\r\n        directionLight.color = new Laya.Vector3(0.6, 0.6, 0.6);\r\n        directionLight.transform.worldMatrix.setForward(new Laya.Vector3(1, -1, 0));\r\n        Laya.Mesh.load(\"res\\Conventional\\Assets\\UnuseRes\\Female\\Female-eyes.lm\", Laya.Handler.create(this, function (mesh) {\r\n            var layaMonkey = this.scene.addChild(new Laya.MeshSprite3D(mesh));\r\n            ;\r\n            layaMonkey.transform.localScale = new Laya.Vector3(4, 4, 4);\r\n            layaMonkey.transform.rotation = new Laya.Quaternion(0.7071068, 0, 0, -0.7071067);\r\n            layaMonkey.transform.translate(new Laya.Vector3(0, 0, 0));\r\n            console.log(\"加载网格成功\");\r\n            Laya.BaseMaterial.load(\"res\\Conventional\\Assets\\Materials\\Female\\female_eyes_blue.lmat\", Laya.Handler.create(null, function (mat) {\r\n                layaMonkey.meshRenderer.material = mat;\r\n            }));\r\n        }));\r\n    }\r\n    onVersionLoaded() {\r\n        Laya.AtlasInfoManager.enable(\"fileconfig.json\", Laya.Handler.create(this, this.onConfigLoaded));\r\n    }\r\n    onConfigLoaded() {\r\n        GameConfig.startScene && Laya.Scene.open(GameConfig.startScene);\r\n    }\r\n}\r\nnew Main();\r\n",
  "references": [
    "E:/TestSpace/laya3d-avart/src/GameConfig.ts"
  ]
}
